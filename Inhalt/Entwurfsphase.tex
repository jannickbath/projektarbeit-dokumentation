% !TEX root = ../Projektdokumentation.tex
\section{Entwurfsphase} 
\label{sec:Entwurfsphase}

\subsection{Zielplattform}
\label{sec:Zielplattform}

\textbf{Programmiersprache:} Die Anwendung wird in PHP unter Verwendung des Symfony-Frameworks entwickelt. Symfony bietet eine robuste und flexible Grundlage für Webanwendungen und unterstützt die Erstellung von sicheren und skalierbaren Lösungen. Die Wahl von PHP und Symfony ermöglicht eine effiziente Entwicklung und Wartung der Anwendung.

\textbf{Datenbank:} Als Datenbank wird MySQL eingesetzt. MySQL ist eine weit verbreitete, leistungsstarke und zuverlässige relationale Datenbank, die gut mit Symfony und PHP integriert werden kann. Sie bietet die notwendige Leistung und Stabilität, um die Bestelldaten und QR-Codes sicher zu speichern und schnell abzurufen.

\textbf{Client/Server-Architektur:} Die Anwendung wird als Webanwendung mit einer Client/Server-Architektur implementiert. Dies ermöglicht eine zentrale Verwaltung und Aktualisierung der Anwendung auf dem Server, während die Benutzer über ihre Webbrowser auf die Anwendung zugreifen. Die Verwendung einer Webanwendung stellt sicher, dass keine zusätzliche Software auf den Endgeräten der Benutzer installiert werden muss.

\textbf{Hardware:} Die Zielplattform umfasst Smartphones, da diese über integrierte Kameras verfügen, die für das Scannen der QR-Codes erforderlich sind. Die Anwendung soll auf allen Smartphones mit Webbrowsern und einer Internetverbindung zugänglich sein. Dies stellt sicher, dass alle Mitarbeiter unabhängig vom verwendeten Gerät auf die Anwendung zugreifen können.

Die Entscheidung für PHP, Symfony und MySQL fiel, weil diese Technologien in unserem Betrieb gängig sind und von unseren Entwicklern routiniert verwendet werden. Dadurch kann effizient und schnell gearbeitet werden. Zudem ermöglicht diese Kombination die Erstellung von Composer-Bundles, die sich nahtlos in andere Symfony-Projekte integrieren lassen.

Besonders wichtig ist dies, weil das Kundenprojekt, in dem das Bundle eingebunden werden soll, Contao verwendet, welches auf Symfony basiert. Diese Auswahl an Technologien erleichtert die Implementierung und gewährleistet eine konsistente Benutzererfahrung.

\subsection{Architekturdesign}
\label{sec:Architekturdesign}

Für das QR-Code-basierte Einlösungsprogramm wurde das Symfony-Framework ausgewählt, das die Grundlage für das verwendete Contao CMS bildet. Diese Entscheidung wurde sowohl aufgrund der spezifischen Anforderungen des Projekts als auch der etablierten Praktiken im Betrieb getroffen. Symfony und Contao bieten eine leistungsfähige Kombination, die auf dem Model-View-Controller (\acs{MVC}) Muster basiert. Dieses Architekturmuster teilt die Anwendung in drei Hauptkomponenten: Modell, Ansicht und Controller.

Das MVC-Modell ermöglicht eine klare Trennung der Geschäftslogik von der Benutzeroberfläche. Diese Struktur erleichtert die Arbeit am Projekt, da die Logik der QR-Code-Generierung und -Verifizierung unabhängig von der Präsentation implementiert werden kann.

Ein zentraler Vorteil von Symfony und Contao liegt in der nativen Unterstützung von Composer, welches die Erstellung von Bundles ermöglicht. Ein Bundle fungiert als eine Art Plugin oder Modul, das bestimmte Funktionen kapselt und wiederverwendbar macht. Im Rahmen dieses Projekts wird das QR-Code-Tool als Bundle entwickelt, wodurch es sich problemlos in andere Contao-Projekte integrieren lässt.

Für die Authentifizierung der Benutzer kann die Mitgliedsverwaltung von Contao genutzt werden. Dies stellt sicher, dass nur autorisierte Benutzer auf das Einlösetool zugreifen können und sensible Bestellinformationen geschützt bleiben.

Die integrierten Sicherheitsmechanismen von Symfony, einschließlich der Benutzer-Authentifizierung und -Autorisierung, stellen sicher, dass die Anwendung vor unbefugtem Zugriff geschützt ist und die Integrität der Bestelldaten gewahrt bleibt.


\subsection{Datenmodell}
\label{sec:Datenmodell}

\begin{itemize}
	\item Entwurf/Beschreibung der Datenstrukturen (\zB \acs{ERM} und/oder Tabellenmodell, \acs{XML}-Schemas) mit kurzer Beschreibung der wichtigsten (!) verwendeten Entitäten.
\end{itemize}

\paragraph{Beispiel}
In \Abbildung{ER} wird ein \ac{ERM} dargestellt, welches lediglich Entitäten, Relationen und die dazugehörigen Kardinalitäten enthält. 

\begin{figure}[htb]
\centering
\includegraphicsKeepAspectRatio{ERDiagramm.pdf}{0.6}
\caption{Vereinfachtes ER-Modell}
\label{fig:ER}
\end{figure} 


\subsection{Geschäftslogik}
\label{sec:Geschaeftslogik}

\begin{itemize}
	\item Modellierung und Beschreibung der wichtigsten (!) Bereiche der Geschäftslogik (\zB mit Kom\-po\-nen\-ten-, Klassen-, Sequenz-, Datenflussdiagramm, Programmablaufplan, Struktogramm, \ac{EPK}).
	\item Wie wird die erstellte Anwendung in den Arbeitsfluss des Unternehmens integriert?
\end{itemize}

\paragraph{Beispiel}
Ein Klassendiagramm, welches die Klassen der Anwendung und deren Beziehungen untereinander darstellt kann im \Anhang{app:Klassendiagramm} eingesehen werden.

\Abbildung{Modulimport} zeigt den grundsätzlichen Programmablauf beim Einlesen eines Moduls als \ac{EPK}.
\begin{figure}[htb]
\centering
\includegraphicsKeepAspectRatio{modulimport.pdf}{0.9}
\caption{Prozess des Einlesens eines Moduls}
\label{fig:Modulimport}
\end{figure}


\subsection{Maßnahmen zur Qualitätssicherung}
\label{sec:Qualitaetssicherung}

Die Überprüfung der korrekten Ausführung des Codes erfolgte mithilfe des Debug-Modus von Symfony und auslesen von Log-Dateien. Durch dieses Debugging konnten potenzielle Fehlerquellen identifiziert und behoben werden, bevor sie zu größeren Problemen führten.

Es wurden außerdem Frontend-Tests durchgeführt, um die Funktionalität und Benutzerfreundlichkeit der Anwendung sicherzustellen. Diese Tests beinhalteten die Simulation der typischen Benutzerinteraktionen, wie das Scannen und Verifizieren von QR-Codes, sowie die Überprüfung der Navigations- und Anzeigeelemente. Ziel war es, sicherzustellen, dass alle erforderlichen Features reibungslos funktionieren und die Anwendung intuitiv bedienbar ist.

Die Sicherheitsaspekte der Anwendung wurden ebenfalls getestet. Dies umfasste die Zugangskontrolle, bei der überprüft wurde, dass nur autorisierte Mitarbeiter mit einem hinterlegten Login auf das Einlösetool zugreifen können. Dadurch wurde gewährleistet, dass sensible Bestellinformationen geschützt und Tickets nicht versehentlich entwertet werden.

\subsection{Pflichtenheft/Datenverarbeitungskonzept}
\label{sec:Pflichtenheft}

Für die Implementierungsdetails dieses Projekts wird auf das im Anhang befindliche Pflichtenheft verwiesen. Dieses Dokument wurde im Verlauf des Projekts erarbeitet und dient als umfassende Guideline, die alle notwendigen Schritte und Vorgaben zur erfolgreichen Realisierung der Anwendung enthält. Das Pflichtenheft ist im \Anhang{app:Pflichtenheft} zu finden.